<!DOCTYPE html>
<html>

<head>
  <title>Rock Paper Scissors</title>
  <style>
    body {
      font-family: 'Courier New', Courier, monospace;
      background-color: black;
      color: aliceblue;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      margin: 0;
    }

    .button-container {
      display: flex;
      /* puts buttons in a row */
      justify-content: center;
      /* centers them horizontally */
      gap: 20px;
      /* space between buttons */
    }

    .title {
      font-family: cursive;
      font-size: 30px;
      font-weight: bold;
    }

    .rps-but {
      font-size: 50px;
      /* makes the emoji big */
      padding: 20px 30px;
      margin: 10px;
      cursor: pointer;
      border-radius: 60px;
      border: 2px solid #ccc;
      background-color: #f9f9f9;
      transition: 0.2s;
    }

    /* ✨ Animation class for pop effect */
    .rps-but.animate {
      animation: pop 0.25s ease;
    }

    @keyframes pop {
      0% {
        transform: scale(1);
      }

      50% {
        transform: scale(1.25);
      }

      100% {
        transform: scale(1);
      }
    }

    .game-res {
      font-size: 20px;
      padding: 10px;
      font-weight: bold;
    }
    .rst-scr{
      border: none;
      padding-top: 10px;
      padding-bottom: 10px;
      padding-left: 15px;
      padding-right: 15px;
      font-weight: bold;
      border-radius: 15px;
      cursor: pointer;
    }
  </style>
</head>

<body>
  <p class="title">Rock Paper Scissors</p>

  <div class="button-container">
    <button class="rps-but" title="rock" onclick="playGame('rock',this)">✊</button>
    <button class="rps-but" title="paper" onclick="playGame('paper',this)">✋</button>
    <button class="rps-but" title="scissors" onclick="playGame('scissors',this)">✌️</button>
  </div>
  <p class="game-res"></p>
  <p class="moves"></p>
  <p class="result"></p>
  <button class="rst-scr" onclick="
  score.wins=0;
  score.losses=0;
  score.ties=0;
  localStorage.removeItem('score');
  updateScore();
  ">Reset Score</button>

  <h3 id="result"></h3>

  <script>
    let score = JSON.parse(localStorage.getItem('score'))
      || { wins: 0, losses: 0, ties: 0 };
    // if(!score){
    //   score={wins:0, losses: 0, ties:0}
    // }
    updateScore();

    function playGame(playerMove,buttonEl) {
      //Animate the clicked button
      buttonEl.classList.add('animate');
      setTimeout(() => buttonEl.classList.remove('animate'), 250);

      // 1️⃣ Computer randomly chooses
      const rand = Math.random();
      let computerMove = '';

      if (rand < 1 / 3) {
        computerMove = 'rock';
      } else if (rand < 2 / 3) {
        computerMove = 'paper';
      } else {
        computerMove = 'scissors';
      }

      // 2️⃣ Determine winner
      let result = '';
      if (playerMove === computerMove) {
        result = "It's a draw!";
        score.ties += 1;
      } else if (
        (playerMove === 'rock' && computerMove === 'scissors') ||
        (playerMove === 'paper' && computerMove === 'rock') ||
        (playerMove === 'scissors' && computerMove === 'paper')
      ) {
        result = 'You win!';
        score.wins++;
      } else {
        result = 'You lose!';
        score.losses += 1;
      }

      // 3️⃣ Show the result
      console.log(`You picked ${playerMove}, 
      computer picked ${computerMove}. ${result}`);

      updateScore();

      document.querySelector('.game-res').innerHTML =
        `${result}`;

      document.querySelector(".moves").innerHTML =
        `  You > ${returnEmoji(playerMove)} v/s ${returnEmoji(computerMove)} < Computer`;
    }

    localStorage.setItem('score', JSON.stringify(score));

    function updateScore() {
      document.querySelector(".result").innerHTML =
        ` Wins: ${score.wins} Losses: ${score.losses} Ties: ${score.ties}`;
    }

    function returnEmoji(playerMove) {
      if (playerMove === 'rock') {
        return '✊';
      } else if (playerMove === 'paper') {
        return '✋';
      } else if (playerMove === 'scissors') {
        return '✌️';
      } else {
        return '❓'; // for invalid input
      }
    }

  </script>
</body>
<footer style="margin-top: 15%; font-size: 7px; color: #211e1e; text-align: center;">
  Developed by Laxminarayana Bhat | &copy; 2025 | laxmishalekha123@gmail.com
</footer>

</html>